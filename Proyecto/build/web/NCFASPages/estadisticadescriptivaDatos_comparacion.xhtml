<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
        <f:facet name="first">
        <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link href="/Proyecto/resources/css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
        <link href="/Proyecto/resources/css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="/Proyecto/resources/css/docs.min.css" rel="stylesheet" type="text/css"/>
        <link href="/Proyecto/resources/css/newcss.css" rel="stylesheet" type="text/css"/>
</f:facet>
            <title>NCFAS</title>
                <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="/Proyecto/favicon.ico" type="image/x-icon"/>
</h:head>
<h:body>
    <p:layout fullPage="true" >
        
        
<p:layoutUnit position="north"   size="95"  collapsible="true" style="" >                
           <div class="col-md-3">
           <a class="navbar-brand" href="../welcomePrimefaces.xhtml" style="font-weight: 800;text-align:left;letter-spacing: 2px;color:#3BBAAE;font-family:  'Yanone Kaffeesatz', sans-serif;font-size: 30px;">PPF Aitué <span><p:graphicImage  value="./resources/imagen/logofamilia.png" width="20%"/> </span></a>
           </div>  
            <h:panelGrid   style="display: block;float: right;text-align: center " >    
            <p:graphicImage  value="./resources/imagen/images.jpg" width="30%"  />     
            <h:outputText value="#{loginControlador.usuario.nombre}" style="font-weight: 800;text-align:left;letter-spacing: 2px;color:#3BBAAE;font-family:  'Yanone Kaffeesatz', sans-serif;font-size: 20px;display: block;  text-align: center"  /> 
            </h:panelGrid>
            </p:layoutUnit>

                <p:layoutUnit position="south" size="70" closable="true" collapsible="true">
                 <h:outputText value=" Universidad de Valparaíso. 
                   Todos los derechos reservados. 
                   Chile - 2015"  style="font-weight: 800;text-align:left;letter-spacing: 2px;color:#3BBAAE;font-family:  'Yanone Kaffeesatz', sans-serif;font-size: 20px;padding: 1%; display: block;text-align: center"  /> 
                </p:layoutUnit>
        
 <p:layoutUnit position="west" size="220" header="Menu">
    <p:growl autoUpdate="true"/>
    <h:form>
        <p:panelMenu style="width:210px">
        <p:submenu label="Gestionar NCFAS">
            <p:menuitem value="Ingresar NCFAS Inicial" actionListener="#{menuBeanAdministrador.ingresoNcfas}" />
            <p:menuitem value="Ingresar NCFAS Final" actionListener="#{menuBeanAdministrador.outcomeNCFASFinal}" />
            <p:menuitem value="Ver NCFAS Guardados"  actionListener="#{menuBeanAdministrador.verncfas}"  />
            <p:menuitem value="Ver NCFAS de tipo Inicial"  actionListener="#{menuBeanAdministrador.verNcfasIniciales}"  />   
            <p:menuitem value="Ver NCFAS de tipo Final"  actionListener="#{menuBeanAdministrador.verNcfasFinales}"  />
            <p:menuitem value="Ver NCFAS por rango de Fecha"  actionListener="#{menuBeanAdministrador.verNcfasPorFecha}" />
        </p:submenu>
        <p:submenu label="Minería de Datos">
            <p:menuitem value="Minería a Competencias Parentales" actionListener="#{menuBeanAdministrador.mineriadedatos}" />
            <p:menuitem value="Minería a Interacciones Familiares" actionListener="#{menuBeanAdministrador.mineriaCompetencias}" />
        </p:submenu>
        <p:submenu label="Estadística Desciptiva">
            <p:menuitem value="Ver Gráfico NCFAS" actionListener="#{menuBeanAdministrador.estadistica}" />
            <p:menuitem value="Ver Gráfico Comparación (Items) " actionListener="#{menuBeanAdministrador.comparar}" />
            <p:menuitem value="Ver Gráfico Comparación (Items Generales)" actionListener="#{menuBeanAdministrador.comparar2}" />
            <p:menuitem value="Ver Gráfico Comparación Fecha (Inicio/Final)" actionListener="#{menuBeanAdministrador.comparar3}" />
        </p:submenu>
         <p:submenu label="Sistema">
             <p:menuitem value="CAT-A" actionListener="#{menuBeanAdministrador.outcomeCATA()}" />
             <p:menuitem value="NCFAS" actionListener="#{menuBeanAdministrador.outcomeNCFAS()}" />
        </p:submenu>   
        </p:panelMenu>      
<h:commandButton value="Salir" action="#{loginControlador.logout()}"  class="btn btn-primary" style="width:100%;"/>
</h:form> 
</p:layoutUnit>  
                    
                    
<p:layoutUnit position="center">
    
    
    <div class="col-md-11">   
        <h:panelGrid columns="2" style="width:100%">
                 <h:outputText value="Nombre de la familia" style="font-size:15pt;line-height:0.85em;font-weight: 800;text-align:center;letter-spacing: 2px;color:#3BBAAE;font-family:  'Yanone Kaffeesatz', sans-serif;" />
                 <h:outputText value="Razón de Ingreso" style="font-size:15pt;line-height:0.85em;font-weight: 800;text-align:center;letter-spacing: 2px;color:#3BBAAE;font-family:  'Yanone Kaffeesatz', sans-serif;" />
                  
                 <h:outputText value="#{listarItemsBean.nombrefamilia}" />
                <h:outputText value="#{listarItemsBean.razoningreso}" />
                
                
                
            </h:panelGrid>
       
             <h:form>
             <p:accordionPanel multiple="true">
              
                <p:tab title="Entorno">
                    <p:chart type="line" model="#{chartView.lineModel9}" style="height:300px;" widgetVar="chart1"/>
                   <p:commandButton type="button" value="Exportar como imagen" icon="ui-icon-extlink" onclick="exportChart()"/>
                </p:tab>
                 
                 <p:tab title="Competencias Parentales">
                    <p:chart type="line" model="#{chartView.lineModel10}" style="height:300px;" widgetVar="chart2"/>
                  <p:commandButton type="button" value="Exportar como imagen" icon="ui-icon-extlink" onclick="exportChart2()"/>
                </p:tab>
                 
                 <p:tab title="Interacciones Familiares">
                    <p:chart type="line" model="#{chartView.lineModel11}" style="height:300px;" widgetVar="chart3"/>
                  <p:commandButton type="button" value="Exportar como imagen" icon="ui-icon-extlink" onclick="exportChart3()"/>
                </p:tab>
                 
                 <p:tab title="Seguridad Social">
                    <p:chart type="line" model="#{chartView.lineModel12}" style="height:300px;" widgetVar="chart4"/>
                    <p:commandButton type="button" value="Exportar como imagen" icon="ui-icon-extlink" onclick="exportChart4()"/>
                </p:tab>
                 
                 <p:tab title="Bienestar del Niño">
                    <p:chart type="line" model="#{chartView.lineModel13}" style="height:300px;" widgetVar="chart5"/>
                    <p:commandButton type="button" value="Exportar como imagen" icon="ui-icon-extlink" onclick="exportChart5()"/>
                </p:tab>
                 
                 <p:tab title="Vida Social Comunitaria">
                    <p:chart type="line" model="#{chartView.lineModel14}" style="height:300px;" widgetVar="chart6"/>
                    <p:commandButton type="button" value="Exportar como imagen" icon="ui-icon-extlink" onclick="exportChart6()"/>
                </p:tab>
                 
                 <p:tab title="Autonomía">
                    <p:chart type="line" model="#{chartView.lineModel15}" style="height:300px;" widgetVar="chart7"/>
                   <p:commandButton type="button" value="Exportar como imagen" icon="ui-icon-extlink" onclick="exportChart7()"/>
                </p:tab>
                 
                 <p:tab title="Salud Familiar">
                    <p:chart type="line" model="#{chartView.lineModel16}" style="height:300px;" widgetVar="chart8"/>
                    <p:commandButton type="button" value="Exportar como imagen" icon="ui-icon-extlink" onclick="exportChart8()"/>
                </p:tab>
             </p:accordionPanel>
                </h:form>
              
    </div>
   
</p:layoutUnit>
        
        <p:dialog widgetVar="dlg1" showEffect="fade" modal="true" header="Chart as an Image" resizable="false">
                 <p:outputPanel id="output" layout="block" style="width:700px;height:300px"/>
                </p:dialog> 
        
         
    
    <script type="text/javascript">
function exportChart8() {
    //export image
    $('#output').empty().append(PF('chart8').exportAsImage());
 
    //show the dialog
    PF('dlg1').show();
}

function exportChart7() {
    //export image
    $('#output').empty().append(PF('chart7').exportAsImage());
 
    //show the dialog
    PF('dlg1').show();
}

function exportChart6() {
    //export image
    $('#output').empty().append(PF('chart6').exportAsImage());
 
    //show the dialog
    PF('dlg1').show();
}

function exportChart5() {
    //export image
    $('#output').empty().append(PF('chart5').exportAsImage());
 
    //show the dialog
    PF('dlg1').show();
}

function exportChart4() {
    //export image
    $('#output').empty().append(PF('chart4').exportAsImage());
 
    //show the dialog
    PF('dlg1').show();
}

function exportChart3() {
    //export image
    $('#output').empty().append(PF('chart3').exportAsImage());
 
    //show the dialog
    PF('dlg1').show();
}

function exportChart2() {
    //export image
    $('#output').empty().append(PF('chart2').exportAsImage());
 
    //show the dialog
    PF('dlg1').show();
}

function exportChart() {
    //export image
    $('#output').empty().append(PF('chart1').exportAsImage());
 
    //show the dialog
    PF('dlg1').show();
}
</script>
</p:layout>
    

        </h:body>
        <h:form rendered="#{empty testSession.tipoUsuario}">
              
              <h1> ingresa sesion</h1>
              </h:form>
    </f:view>
</html>

